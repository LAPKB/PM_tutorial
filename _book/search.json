[
  {
    "objectID": "NPAG.html",
    "href": "NPAG.html",
    "title": "2¬† Running NPAG",
    "section": "",
    "text": "First, you must always load the Pmetrics library in your R script or Quarto document.\n\nlibrary(Pmetrics)\n\n\n\nWarning in readLines(f, n): incomplete final line found on\n'/Users/mneely/Library/CloudStorage/OneDrive-CHILDRENSHOSPITALLOSANGELES/Documents/LAPK/Development/Tutorial/DESCRIPTION'\nWarning in readLines(f, n): incomplete final line found on\n'/Users/mneely/Library/CloudStorage/OneDrive-CHILDRENSHOSPITALLOSANGELES/Documents/LAPK/Development/Tutorial/DESCRIPTION'\n\n\nWarning in readLines(dsc_path): incomplete final line found on\n'/Users/mneely/Library/CloudStorage/OneDrive-CHILDRENSHOSPITALLOSANGELES/Documents/LAPK/Development/Tutorial/DESCRIPTION'\n\n\nWarning in readLines(file): incomplete final line found on\n'/Users/mneely/Library/CloudStorage/OneDrive-CHILDRENSHOSPITALLOSANGELES/Documents/LAPK/Development/Tutorial/DESCRIPTION'\n\n\nWarning in readLines(f, n): incomplete final line found on\n'/Users/mneely/Library/CloudStorage/OneDrive-CHILDRENSHOSPITALLOSANGELES/Documents/LAPK/Development/Tutorial/DESCRIPTION'\n\n\nWarning in readLines(dsc_path): incomplete final line found on\n'/Users/mneely/Library/CloudStorage/OneDrive-CHILDRENSHOSPITALLOSANGELES/Documents/LAPK/Development/Tutorial/DESCRIPTION'\n\n\nWarning in readLines(file): incomplete final line found on\n'/Users/mneely/Library/CloudStorage/OneDrive-CHILDRENSHOSPITALLOSANGELES/Documents/LAPK/Development/Tutorial/DESCRIPTION'\n\n\n‚Ñπ Loading Tutorial\n\n\nWarning in readLines(dsc_path): incomplete final line found on\n'/Users/mneely/Library/CloudStorage/OneDrive-CHILDRENSHOSPITALLOSANGELES/Documents/LAPK/Development/Tutorial/DESCRIPTION'\n\n\nWarning in readLines(dsc_path): incomplete final line found on\n'/Users/mneely/Library/CloudStorage/OneDrive-CHILDRENSHOSPITALLOSANGELES/Documents/LAPK/Development/Tutorial/DESCRIPTION'\n\n\nWarning in readLines(file): incomplete final line found on\n'/Users/mneely/Library/CloudStorage/OneDrive-CHILDRENSHOSPITALLOSANGELES/Documents/LAPK/Development/Tutorial/DESCRIPTION'\n\n\nWarning in readLines(f, n): incomplete final line found on\n'/Users/mneely/Library/CloudStorage/OneDrive-CHILDRENSHOSPITALLOSANGELES/Documents/LAPK/Development/Tutorial/DESCRIPTION'\nWarning in readLines(f, n): incomplete final line found on\n'/Users/mneely/Library/CloudStorage/OneDrive-CHILDRENSHOSPITALLOSANGELES/Documents/LAPK/Development/Tutorial/DESCRIPTION'\n\n\nWarning in readLines(dsc_path): incomplete final line found on\n'/Users/mneely/Library/CloudStorage/OneDrive-CHILDRENSHOSPITALLOSANGELES/Documents/LAPK/Development/Tutorial/DESCRIPTION'\n\n\nWarning in readLines(file): incomplete final line found on\n'/Users/mneely/Library/CloudStorage/OneDrive-CHILDRENSHOSPITALLOSANGELES/Documents/LAPK/Development/Tutorial/DESCRIPTION'\n\n\nWarning in readLines(f, n): incomplete final line found on\n'/Users/mneely/Library/CloudStorage/OneDrive-CHILDRENSHOSPITALLOSANGELES/Documents/LAPK/Development/Tutorial/DESCRIPTION'\n\n\nWarning in readLines(dsc_path): incomplete final line found on\n'/Users/mneely/Library/CloudStorage/OneDrive-CHILDRENSHOSPITALLOSANGELES/Documents/LAPK/Development/Tutorial/DESCRIPTION'\n\n\nWarning in readLines(file): incomplete final line found on\n'/Users/mneely/Library/CloudStorage/OneDrive-CHILDRENSHOSPITALLOSANGELES/Documents/LAPK/Development/Tutorial/DESCRIPTION'\n\n\nWarning in readLines(f, n): incomplete final line found on\n'/Users/mneely/Library/CloudStorage/OneDrive-CHILDRENSHOSPITALLOSANGELES/Documents/LAPK/Development/Tutorial/DESCRIPTION'\nWarning in readLines(f, n): incomplete final line found on\n'/Users/mneely/Library/CloudStorage/OneDrive-CHILDRENSHOSPITALLOSANGELES/Documents/LAPK/Development/Tutorial/DESCRIPTION'\n\n\nWarning in readLines(dsc_path): incomplete final line found on\n'/Users/mneely/Library/CloudStorage/OneDrive-CHILDRENSHOSPITALLOSANGELES/Documents/LAPK/Development/Tutorial/DESCRIPTION'\n\n\nWarning in readLines(file): incomplete final line found on\n'/Users/mneely/Library/CloudStorage/OneDrive-CHILDRENSHOSPITALLOSANGELES/Documents/LAPK/Development/Tutorial/DESCRIPTION'\n\n\nWarning in readLines(f, n): incomplete final line found on\n'/Users/mneely/Library/CloudStorage/OneDrive-CHILDRENSHOSPITALLOSANGELES/Documents/LAPK/Development/Tutorial/DESCRIPTION'\nWarning in readLines(f, n): incomplete final line found on\n'/Users/mneely/Library/CloudStorage/OneDrive-CHILDRENSHOSPITALLOSANGELES/Documents/LAPK/Development/Tutorial/DESCRIPTION'\nWarning in readLines(f, n): incomplete final line found on\n'/Users/mneely/Library/CloudStorage/OneDrive-CHILDRENSHOSPITALLOSANGELES/Documents/LAPK/Development/Tutorial/DESCRIPTION'\n\n\nWarning in readLines(dsc_path): incomplete final line found on\n'/Users/mneely/Library/CloudStorage/OneDrive-CHILDRENSHOSPITALLOSANGELES/Documents/LAPK/Development/Tutorial/DESCRIPTION'\n\n\nWarning in readLines(file): incomplete final line found on\n'/Users/mneely/Library/CloudStorage/OneDrive-CHILDRENSHOSPITALLOSANGELES/Documents/LAPK/Development/Tutorial/DESCRIPTION'\n\n\nWarning in readLines(f, n): incomplete final line found on\n'/Users/mneely/Library/CloudStorage/OneDrive-CHILDRENSHOSPITALLOSANGELES/Documents/LAPK/Development/Tutorial/DESCRIPTION'\n\n\nWarning in readLines(dsc_path): incomplete final line found on\n'/Users/mneely/Library/CloudStorage/OneDrive-CHILDRENSHOSPITALLOSANGELES/Documents/LAPK/Development/Tutorial/DESCRIPTION'\n\n\nWarning in readLines(file): incomplete final line found on\n'/Users/mneely/Library/CloudStorage/OneDrive-CHILDRENSHOSPITALLOSANGELES/Documents/LAPK/Development/Tutorial/DESCRIPTION'\n\n\nWarning in readLines(f, n): incomplete final line found on\n'/Users/mneely/Library/CloudStorage/OneDrive-CHILDRENSHOSPITALLOSANGELES/Documents/LAPK/Development/Tutorial/DESCRIPTION'\n\n\nWarning in readLines(dsc_path): incomplete final line found on\n'/Users/mneely/Library/CloudStorage/OneDrive-CHILDRENSHOSPITALLOSANGELES/Documents/LAPK/Development/Tutorial/DESCRIPTION'\n\n\nWarning in readLines(file): incomplete final line found on\n'/Users/mneely/Library/CloudStorage/OneDrive-CHILDRENSHOSPITALLOSANGELES/Documents/LAPK/Development/Tutorial/DESCRIPTION'\n\n\nWarning in readLines(f, n): incomplete final line found on\n'/Users/mneely/Library/CloudStorage/OneDrive-CHILDRENSHOSPITALLOSANGELES/Documents/LAPK/Development/Tutorial/DESCRIPTION'\nWarning in readLines(f, n): incomplete final line found on\n'/Users/mneely/Library/CloudStorage/OneDrive-CHILDRENSHOSPITALLOSANGELES/Documents/LAPK/Development/Tutorial/DESCRIPTION'\n\n\nWarning in readLines(dsc_path): incomplete final line found on\n'/Users/mneely/Library/CloudStorage/OneDrive-CHILDRENSHOSPITALLOSANGELES/Documents/LAPK/Development/Tutorial/DESCRIPTION'\n\n\nWarning in readLines(file): incomplete final line found on\n'/Users/mneely/Library/CloudStorage/OneDrive-CHILDRENSHOSPITALLOSANGELES/Documents/LAPK/Development/Tutorial/DESCRIPTION'\n\n\nWarning in readLines(f, n): incomplete final line found on\n'/Users/mneely/Library/CloudStorage/OneDrive-CHILDRENSHOSPITALLOSANGELES/Documents/LAPK/Development/Tutorial/DESCRIPTION'\nWarning in readLines(f, n): incomplete final line found on\n'/Users/mneely/Library/CloudStorage/OneDrive-CHILDRENSHOSPITALLOSANGELES/Documents/LAPK/Development/Tutorial/DESCRIPTION'\nWarning in readLines(f, n): incomplete final line found on\n'/Users/mneely/Library/CloudStorage/OneDrive-CHILDRENSHOSPITALLOSANGELES/Documents/LAPK/Development/Tutorial/DESCRIPTION'\nWarning in readLines(f, n): incomplete final line found on\n'/Users/mneely/Library/CloudStorage/OneDrive-CHILDRENSHOSPITALLOSANGELES/Documents/LAPK/Development/Tutorial/DESCRIPTION'\n\n\nWarning in readLines(dsc_path): incomplete final line found on\n'/Users/mneely/Library/CloudStorage/OneDrive-CHILDRENSHOSPITALLOSANGELES/Documents/LAPK/Development/Tutorial/DESCRIPTION'\n\n\nWarning in readLines(file): incomplete final line found on\n'/Users/mneely/Library/CloudStorage/OneDrive-CHILDRENSHOSPITALLOSANGELES/Documents/LAPK/Development/Tutorial/DESCRIPTION'\n\n\nWarning in readLines(f, n): incomplete final line found on\n'/Users/mneely/Library/CloudStorage/OneDrive-CHILDRENSHOSPITALLOSANGELES/Documents/LAPK/Development/Tutorial/DESCRIPTION'\nWarning in readLines(f, n): incomplete final line found on\n'/Users/mneely/Library/CloudStorage/OneDrive-CHILDRENSHOSPITALLOSANGELES/Documents/LAPK/Development/Tutorial/DESCRIPTION'\nWarning in readLines(f, n): incomplete final line found on\n'/Users/mneely/Library/CloudStorage/OneDrive-CHILDRENSHOSPITALLOSANGELES/Documents/LAPK/Development/Tutorial/DESCRIPTION'\nWarning in readLines(f, n): incomplete final line found on\n'/Users/mneely/Library/CloudStorage/OneDrive-CHILDRENSHOSPITALLOSANGELES/Documents/LAPK/Development/Tutorial/DESCRIPTION'\n\n\nWarning in readLines(dsc_path): incomplete final line found on\n'/Users/mneely/Library/CloudStorage/OneDrive-CHILDRENSHOSPITALLOSANGELES/Documents/LAPK/Development/Tutorial/DESCRIPTION'\n\n\nWarning in readLines(file): incomplete final line found on\n'/Users/mneely/Library/CloudStorage/OneDrive-CHILDRENSHOSPITALLOSANGELES/Documents/LAPK/Development/Tutorial/DESCRIPTION'\n\n\nWarning in readLines(f, n): incomplete final line found on\n'/Users/mneely/Library/CloudStorage/OneDrive-CHILDRENSHOSPITALLOSANGELES/Documents/LAPK/Development/Tutorial/DESCRIPTION'\n\n\nWarning in readLines(dsc_path): incomplete final line found on\n'/Users/mneely/Library/CloudStorage/OneDrive-CHILDRENSHOSPITALLOSANGELES/Documents/LAPK/Development/Tutorial/DESCRIPTION'\n\n\nWarning in readLines(file): incomplete final line found on\n'/Users/mneely/Library/CloudStorage/OneDrive-CHILDRENSHOSPITALLOSANGELES/Documents/LAPK/Development/Tutorial/DESCRIPTION'\n\n\nWarning in readLines(f, n): incomplete final line found on\n'/Users/mneely/Library/CloudStorage/OneDrive-CHILDRENSHOSPITALLOSANGELES/Documents/LAPK/Development/Tutorial/DESCRIPTION'\nWarning in readLines(f, n): incomplete final line found on\n'/Users/mneely/Library/CloudStorage/OneDrive-CHILDRENSHOSPITALLOSANGELES/Documents/LAPK/Development/Tutorial/DESCRIPTION'\n\n\nWarning in readLines(dsc_path): incomplete final line found on\n'/Users/mneely/Library/CloudStorage/OneDrive-CHILDRENSHOSPITALLOSANGELES/Documents/LAPK/Development/Tutorial/DESCRIPTION'\n\n\nWarning in readLines(file): incomplete final line found on\n'/Users/mneely/Library/CloudStorage/OneDrive-CHILDRENSHOSPITALLOSANGELES/Documents/LAPK/Development/Tutorial/DESCRIPTION'\n\n\nWarning in readLines(f, n): incomplete final line found on\n'/Users/mneely/Library/CloudStorage/OneDrive-CHILDRENSHOSPITALLOSANGELES/Documents/LAPK/Development/Tutorial/DESCRIPTION'\nWarning in readLines(f, n): incomplete final line found on\n'/Users/mneely/Library/CloudStorage/OneDrive-CHILDRENSHOSPITALLOSANGELES/Documents/LAPK/Development/Tutorial/DESCRIPTION'\n\n\nWarning in readLines(dsc_path): incomplete final line found on\n'/Users/mneely/Library/CloudStorage/OneDrive-CHILDRENSHOSPITALLOSANGELES/Documents/LAPK/Development/Tutorial/DESCRIPTION'\n\n\nWarning in readLines(file): incomplete final line found on\n'/Users/mneely/Library/CloudStorage/OneDrive-CHILDRENSHOSPITALLOSANGELES/Documents/LAPK/Development/Tutorial/DESCRIPTION'\n\n\nWarning in readLines(f, n): incomplete final line found on\n'/Users/mneely/Library/CloudStorage/OneDrive-CHILDRENSHOSPITALLOSANGELES/Documents/LAPK/Development/Tutorial/DESCRIPTION'\nWarning in readLines(f, n): incomplete final line found on\n'/Users/mneely/Library/CloudStorage/OneDrive-CHILDRENSHOSPITALLOSANGELES/Documents/LAPK/Development/Tutorial/DESCRIPTION'\n\n\nWarning in readLines(dsc_path): incomplete final line found on\n'/Users/mneely/Library/CloudStorage/OneDrive-CHILDRENSHOSPITALLOSANGELES/Documents/LAPK/Development/Tutorial/DESCRIPTION'\n\n\nWarning in readLines(file): incomplete final line found on\n'/Users/mneely/Library/CloudStorage/OneDrive-CHILDRENSHOSPITALLOSANGELES/Documents/LAPK/Development/Tutorial/DESCRIPTION'\n\n\nWarning in readLines(f, n): incomplete final line found on\n'/Users/mneely/Library/CloudStorage/OneDrive-CHILDRENSHOSPITALLOSANGELES/Documents/LAPK/Development/Tutorial/DESCRIPTION'\nWarning in readLines(f, n): incomplete final line found on\n'/Users/mneely/Library/CloudStorage/OneDrive-CHILDRENSHOSPITALLOSANGELES/Documents/LAPK/Development/Tutorial/DESCRIPTION'\nWarning in readLines(f, n): incomplete final line found on\n'/Users/mneely/Library/CloudStorage/OneDrive-CHILDRENSHOSPITALLOSANGELES/Documents/LAPK/Development/Tutorial/DESCRIPTION'\nWarning in readLines(f, n): incomplete final line found on\n'/Users/mneely/Library/CloudStorage/OneDrive-CHILDRENSHOSPITALLOSANGELES/Documents/LAPK/Development/Tutorial/DESCRIPTION'\nWarning in readLines(f, n): incomplete final line found on\n'/Users/mneely/Library/CloudStorage/OneDrive-CHILDRENSHOSPITALLOSANGELES/Documents/LAPK/Development/Tutorial/DESCRIPTION'\n\n\nWarning in readLines(dsc_path): incomplete final line found on\n'/Users/mneely/Library/CloudStorage/OneDrive-CHILDRENSHOSPITALLOSANGELES/Documents/LAPK/Development/Tutorial/DESCRIPTION'\n\n\nWarning in readLines(file): incomplete final line found on\n'/Users/mneely/Library/CloudStorage/OneDrive-CHILDRENSHOSPITALLOSANGELES/Documents/LAPK/Development/Tutorial/DESCRIPTION'\n\n\nWarning in readLines(f, n): incomplete final line found on\n'/Users/mneely/Library/CloudStorage/OneDrive-CHILDRENSHOSPITALLOSANGELES/Documents/LAPK/Development/Tutorial/DESCRIPTION'\nWarning in readLines(f, n): incomplete final line found on\n'/Users/mneely/Library/CloudStorage/OneDrive-CHILDRENSHOSPITALLOSANGELES/Documents/LAPK/Development/Tutorial/DESCRIPTION'\n\n\nWarning in readLines(dsc_path): incomplete final line found on\n'/Users/mneely/Library/CloudStorage/OneDrive-CHILDRENSHOSPITALLOSANGELES/Documents/LAPK/Development/Tutorial/DESCRIPTION'\n\n\nWarning in readLines(file): incomplete final line found on\n'/Users/mneely/Library/CloudStorage/OneDrive-CHILDRENSHOSPITALLOSANGELES/Documents/LAPK/Development/Tutorial/DESCRIPTION'\n\n\nWarning in readLines(f, n): incomplete final line found on\n'/Users/mneely/Library/CloudStorage/OneDrive-CHILDRENSHOSPITALLOSANGELES/Documents/LAPK/Development/Tutorial/DESCRIPTION'\nWarning in readLines(f, n): incomplete final line found on\n'/Users/mneely/Library/CloudStorage/OneDrive-CHILDRENSHOSPITALLOSANGELES/Documents/LAPK/Development/Tutorial/DESCRIPTION'\n\n\nWarning in readLines(dsc_path): incomplete final line found on\n'/Users/mneely/Library/CloudStorage/OneDrive-CHILDRENSHOSPITALLOSANGELES/Documents/LAPK/Development/Tutorial/DESCRIPTION'\n\n\nWarning in readLines(file): incomplete final line found on\n'/Users/mneely/Library/CloudStorage/OneDrive-CHILDRENSHOSPITALLOSANGELES/Documents/LAPK/Development/Tutorial/DESCRIPTION'\n\n\nWarning in readLines(f, n): incomplete final line found on\n'/Users/mneely/Library/CloudStorage/OneDrive-CHILDRENSHOSPITALLOSANGELES/Documents/LAPK/Development/Tutorial/DESCRIPTION'\nWarning in readLines(f, n): incomplete final line found on\n'/Users/mneely/Library/CloudStorage/OneDrive-CHILDRENSHOSPITALLOSANGELES/Documents/LAPK/Development/Tutorial/DESCRIPTION'\n\n\n\n2.0.1 Working directory\nNext, R and Pmetrics need to know which directory to work in. This is the directory where R expects to find files and where it will save output files. There are two ways to do this.\n\n2.0.1.1 Global working directory change\nYou can set your working directory with the setwd function.\n\nsetwd(\"/path/to/your/project/directory\") # Mac and Linux users\nsetwd(\"C:/path/to/your/project/directory\") # Windows users\n\nWindows users: Make sure that you separate directories with a forward slash ‚Äú/‚Äù or double backslashes ‚Äú\\‚Äù. Unfortunately, Windows is the only OS that uses backslashes ‚Äú‚Äú, so R conforms to Unix/Linux style with the forward slash. If you copy the example below, make sure to change the path to one that exists on your computer.\n\n\n2.0.1.2 Local path specification\nYou can also specify the path in a variable and use it in Pmetrics functions without changing the working directory.\n\nwd &lt;- \"/path/to/your/project/directory\" # Mac and Linux users\nwd &lt;- \"C:/path/to/your/project/directory\" # Windows users\ndat &lt;- PM_data$new(data = file.path(wd, \"data\", \"mydata.csv\"))\n\nüí° The file.path function creates file paths that are compatible with your operating system.\n\n\n\n2.0.2 Workflow\nThe typical workflow for using Pmetrics is as follows:\n\nCreate a PM_data object.\nCreate a PM_model object.\nFit the model to the data with the $fit() method of the model object. This returns a PM_result object, which is also saved to the hard drive and can be loaded later with the PM_load function.\nExamine the results with PM_result methods and functions and revise as needed to improve the model fit. This chiefly means using the $update() method to change the model or manually editing it.\n\n\n\n\n\n\nflowchart LR\n\nsubgraph RSession[\" \"]\n  direction TB\n  DATA[\"PM_data\"]\n  MODEL[\"PM_model\"]\n  RESULT[\"PM_result\"]\nend\n\nDISK[(\"Hard Drive\")]\n\nDATA --&gt; MODEL\nMODEL -- \"$fit()\" --&gt; RESULT\nRESULT -- \"$update()\" --&gt; MODEL\nDISK -- \"PM_load()\" --&gt; RESULT\nRESULT --&gt; DISK\n\nclassDef blue fill:#2f6db6,stroke:#184a8b,color:#fff;\nclassDef orange fill:#c7662b,stroke:#8a3f18,color:#fff;\nclassDef disk fill:#d2d3d7,stroke:#7f8084,color:#000;\n\nclass DATA,MODEL blue;\nclass RESULT orange;\nclass DISK disk;\n\nstyle RSession fill:#e9f0ff,stroke:#9ab0d6,stroke-width:1px,rx:2,ry:2\n\n\n\n\n\n\n\n\n\n2.0.3 Data objects\nPmetrics always needs data and a model to run, so let‚Äôs create a new data object.\n\nexData &lt;- PM_data$new(data = \"Data/src/ex.csv\")\n\n\n\n\n‚îÄ‚îÄ DATA STANDARDIZATION ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ\n\n\nEVID inferred as 0 for observations, 1 for doses.\n All doses assumed to be oral (DUR = 0).\n ADDL set to missing for all records.\n II set to missing for all records.\n All doses assumed to be INPUT = 1.\n All observations assumed to be OUTEQ = 1.\n All observations assumed to be uncensored.\n One or more error coefficients not specified. Error in model object will be used.\n\n\n\n\n\n‚îÄ‚îÄ DATA VALIDATION ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ\n\n\nNo data errors found.\n\n\nPmetrics standardizes the data, checks for errors, and provides an error and attempted fix report fo any found.\nYou can look at a .csv data file directly by opening it in a spreadsheet program like Excel, or a text editor.\nexData is an R6 object, which means that contains both data and methods to process that data.\n\nexData # prints the object, usually to the terminal, but in this case to a rendered \"lite\" spreadsheet\nexData$data # contains your original data\nexData$standard_data # contains the standardized and validated data\nexData$summary() # prints the summary of the data to the terminal\n\nMost Pmetrics objects are R6 objects, so you can use the $ operator to access their data and methods. Many of them have a summary() method that prints a summary of the object to the console and a plot() method that creates a plot of the object. See PM_data for more information on the PM_data class and its methods.\nNote: We recognize that many users are familiar with the ‚ÄúS3 framework‚Äù in R, which uses functions like summary(object) and plot(object). To comply with better programming standards, Pmetrics uses the R6 framework. However, we have provided S3 methods for most functions, so you can use summary(object) and plot(object) if you prefer.\n\n# S3 method to summarize data\nsummary(exData)\n\nPM_data has a plot() method that creates a plot of the data. See plot.PM_data for more information.\n\nexData$plot() \n\n\n\n\n\n\n\n\n\n2.0.4 Model objects\nYou can specify a model by reading a file or directly as a list object in R. We‚Äôll do both.\nThe following code creates the same model as in /src/model.txt file. See further model details on creating models in R compared to text files. The advantage of creating them in R is that one does not need to copy model files into folders to provide necessary inputs.\n\nmod1 &lt;- PM_model$new(\n  pri = list(\n    Ka = ab(0.1, 0.9),\n    Ke = ab(0.001, 0.1),\n    V = ab(30, 120),\n    lag1 = ab(0, 4)\n  ),\n  cov = list(\n    wt = interp(),\n    africa = interp(\"none\"),\n    age = interp(),\n    gender = interp(\"none\"),\n    height = interp()\n  ),\n  eqn = function(){\n    two_comp_bolus\n  },\n  lag = function(){\n    lag[1] = lag1\n  },\n  out = function(){\n  Y[1] = X[2]/V\n  },\n  err = list(\n    proportional(5, c(0.02, 0.05, -0.0002, 0))\n  )\n)\n\n‚Ñπ Compiling model...\n\n\nUsing template path: /Users/mneely/Library/CloudStorage/OneDrive-CHILDRENSHOSPITALLOSANGELES/Documents/LAPK/Development/Pmetrics_rust/inst \n\n\nWhen you execute the above code in your own script or Quarto document, you will see a message indicating that the model has compiled.\n\nmod1 # prints the model object\n\n\n\n\n‚îÄ‚îÄ Model summary ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ\n\n\n\n\n\n‚îÄ‚îÄ Primary Parameters \n\n\nKa: [0.1, 0.9], ~N(0.5, 0.13)\n\n\nKe: [0.001, 0.1], ~N(0.05, 0.02)\n\n\nV: [30, 120], ~N(75, 15)\n\n\nlag1: [0, 4], ~N(2, 0.67)\n\n\n\n\n\n‚îÄ‚îÄ Covariates \n\n\nwt, africa (no interpolation), age, gender (no interpolation), and height\n\n\n\n\n\n‚îÄ‚îÄ Primary Equations \n\n\ntwo_comp_bolus\n\n\n\n\n\n‚îÄ‚îÄ Lag Time \n\n\nlag[1] = lag1\n\n\n\n\n\n‚îÄ‚îÄ Outputs \n\n\nY[1] = X[2]/V\n\n\n\n\n\n‚îÄ‚îÄ Error Model \n\n\nProportional, with initial value of 5 and coefficients 0.02, 0.05, -2e-04, and\n0.\n\n\n\nmod1$plot() \n\n\n\n\n\n\n\n\nWe have another file ‚Äúmodel.txt‚Äù that contains the old representation of the same model we coded above, let‚Äôs take a look at it.\n\nsystem(\"cat Data/src/model.txt\")\n\nYou can also open it in a text editor.\nPM_model$new() also accepts the path to a model file to create the same model using the file.\n\nmod1b &lt;- PM_model$new(\"Data/src/model.txt\")\nmod1b # look at it\n\nPM_model provides a method to update the different elements of a model, for example:\n\nmod1b$update(\n  pri = list(\n    ka = ab(0.001, 5)\n))\n\nIt is case sensitive, so ka is different from Ka. To remove a parameter, set it to NULL.\nTo copy a model use the $clone() method.\n\nmod1b &lt;- mod1$clone()\n\nSimply using mod1b &lt;- mod1 will cause mod1b to be changed if mod1 is changed, as R6 objects use reference semantics. For more details you can refer to Advanced R, Section 14.4.\nLastly, Pmetrics has a model building app!\n\nbuild_model() #start from scratch\nbuild_model(exData) #start with data to match covariates\nbuild_model(mod1) #start with a model and update it\n\n\n\n2.0.5 Fit the model to the data\nTo keep everything tidy, we are working in a folder specifically to store the runs. We are specifying the path in the call to $fit() rather than globally changing the working directory.\n\nrun1 &lt;- mod1$fit(data = exData, run = 1, overwrite = TRUE, path = \"Data/Runs\") \n\nThe PM_model class has a $fit() method that fits the model to the data.\nAfter the run is complete the results are returned to the assigned object, here ‚Äòrun1‚Äô. However, if you want to load the results later, you can use the PM_load() function. Runs will be sequentially numbered as /1, /2, /3,‚Ä¶ in your working directory.\n\nrun1 &lt;- PM_load(1, path = \"Data/Runs\") # load the results from run 1 if returning to this script later",
    "crumbs": [
      "Home",
      "<span class='chapter-number'>2</span>¬† <span class='chapter-title'>Running NPAG</span>"
    ]
  }
]